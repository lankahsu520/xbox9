#!/bin/bash

#******************************************************************************
#** DOWNLOAD **
#******************************************************************************
if [ -z "${PJ_DOWNLOAD}" ] || [ ! -d "${PJ_DOWNLOAD}" ]; then
export PJ_DOWNLOAD=.
else
export PJ_DOWNLOAD=${PJ_DOWNLOAD}
fi

#******************************************************************************
#** ROOT **
#******************************************************************************
export PJ_CONFS_DIR=${PJ_ROOT_DIR}/confs
export PJ_INCLUDE_DIR=${PJ_ROOT_DIR}/include
export PJ_LIBS_DIR=${PJ_ROOT_DIR}/libs
export PJ_MK_DIR=${PJ_ROOT_DIR}/mk

export PJ_USR_DIR=${PJ_ROOT_DIR}/user
export PJ_USR_COMMON_DIR=${PJ_USR_DIR}/common
export PJ_USR_CUSTOMER_DIR=${PJ_USR_DIR}/customer
export PJ_USR_EXAMPLES_DIR=${PJ_USR_DIR}/examples
export PJ_USR_IOT_DIR=${PJ_USR_DIR}/IoT
export PJ_USR_KERNEL_DIR=${PJ_USR_DIR}/kernel
#export PJ_USR_NPM_DIR=${PJ_USR_DIR}/npm
#export PJ_USR_PLATFORM_DIR=$P{J_USR_DIR}/platform
#export PJ_USR_PYTHON_DIR=${PJ_USR_DIR}/python
export PJ_USR_VENDOR_DIR=${PJ_USR_DIR}/vendor

#******************************************************************************
#** VENDOR **
#******************************************************************************
#** aws **
export PJ_USR_VENDOR_AWS_DIR=${PJ_USR_VENDOR_DIR}/aws

#** MatterX **
export PJ_USR_VENDOR_MATTERX_DIR=${PJ_USR_VENDOR_DIR}/MatterX
export PJ_USR_VENDOR_MATTERX_CHIP_DIR=${PJ_USR_VENDOR_MATTERX_DIR}/CHIP

#** tiqiaa **
export PJ_USR_VENDOR_TIQIAA_DIR=${PJ_USR_VENDOR_DIR}/tiqiaa

#** tuya **
export PJ_USR_VENDOR_TUYA_DIR=${PJ_USR_VENDOR_DIR}/tuya

#** ZigBee **
export PJ_USR_VENDOR_ZIGBEE_DIR=${PJ_USR_VENDOR_DIR}/ZigBee

#** ZWave_v2 **
export PJ_USR_VENDOR_ZWAVE_DIR=${PJ_USR_VENDOR_DIR}/ZWave_v2

#******************************************************************************
#** PREFIX **
#******************************************************************************
export PJ_PREFIX_DIR=${PJ_ROOT_DIR}/install

#******************************************************************************
#** PREFIX / SDK **
#******************************************************************************
export SDK_ROOT_DIR=${PJ_PREFIX_DIR}/${PJ_NAME}

export SDK_BIN_DIR=${SDK_ROOT_DIR}${SDK_USR_PREFIX_DIR}/bin
export SDK_ETC_DIR=${SDK_ROOT_DIR}/etc
export SDK_INC_DIR=${SDK_ROOT_DIR}${SDK_USR_PREFIX_DIR}/include
export SDK_LIB_DIR=${SDK_ROOT_DIR}${SDK_USR_PREFIX_DIR}/lib
export SDK_OPT_DIR=${SDK_ROOT_DIR}/opt
export SDK_PKG_DIR=${SDK_LIB_DIR}/pkgconfig
export SDK_SBIN_DIR=${SDK_ROOT_DIR}${SDK_USR_PREFIX_DIR}/sbin

export SDK_USR_BIN_DIR=${SDK_ROOT_DIR}/usr/bin
export SDK_USR_INC_DIR=${SDK_ROOT_DIR}/usr/include
export SDK_USR_LIB_DIR=${SDK_ROOT_DIR}/usr/lib
export SDK_USR_SBIN_DIR=${SDK_ROOT_DIR}/usr/sbin

export SDK_USR_LOCAL_BIN_DIR=${SDK_ROOT_DIR}/usr/local/bin

export SDK_IOT_DIR=${SDK_ROOT_DIR}/${PJ_IOT_FOLDER}

export SDK_IOT_CERT_DIR=${SDK_IOT_DIR}/cert
export SDK_IOT_CONF_DIR=${SDK_IOT_DIR}/conf
export SDK_IOT_HTTPD_DIR=${SDK_IOT_DIR}/httpd
export SDK_IOT_HTTPS_DIR=${SDK_IOT_DIR}/https
export SDK_IOT_MODULES_DIR=${SDK_IOT_DIR}/modules
export SDK_IOT_WWW_DIR=${SDK_IOT_DIR}/www

#******************************************************************************
#** PREFIX / SDK (conf) **
#******************************************************************************
export SDK_CONFIG_AUTOCONF_H=${SDK_INC_DIR}/autoconf_common.h
export SDK_CONFIG_CONFIG=${SDK_INC_DIR}/config_common
export SDK_CONFIG_CUSTOMER_DEF_H=${SDK_INC_DIR}/customer_def.h
export SDK_CONFIG_CUSTOMER=${SDK_INC_DIR}/config_customer

export SDK_CONFIG_DBUS_DEF_H="${SDK_INC_DIR}/dbus_def.h"
export SDK_CONFIG_JSON_DEF_H="${SDK_INC_DIR}/json_def.h"
export SDK_CONFIG_UBUS_DEF_H="${SDK_INC_DIR}/ubus_def.h"
export SDK_CONFIG_QUERY_DEF_H="${SDK_INC_DIR}/query_def.h"
export SDK_CONFIG_ZWAVE_DEF_H="${SDK_INC_DIR}/zwave_def.h"

#******************************************************************************
#** PREFIX / HOME **
#******************************************************************************
export HOMEX_ROOT_DIR=${PJ_PREFIX_DIR}/${PJ_NAME}_rootfs

export HOMEX_BIN_DIR=${HOMEX_ROOT_DIR}${HOMEX_USR_PREFIX_DIR}/bin
export HOMEX_ETC_DIR=${HOMEX_ROOT_DIR}/etc
export HOMEX_INC_DIR=${HOMEX_ROOT_DIR}${HOMEX_USR_PREFIX_DIR}/include
export HOMEX_LIB_DIR=${HOMEX_ROOT_DIR}${HOMEX_USR_PREFIX_DIR}/lib
export HOMEX_OPT_DIR=${HOMEX_ROOT_DIR}/opt
export HOMEX_SBIN_DIR=${HOMEX_ROOT_DIR}${HOMEX_USR_PREFIX_DIR}/sbin

export HOMEX_USR_BIN_DIR=${HOMEX_ROOT_DIR}/usr/bin
export HOMEX_USR_INC_DIR=${HOMEX_ROOT_DIR}/usr/include
export HOMEX_USR_LIB_DIR=${HOMEX_ROOT_DIR}/usr/lib
export HOMEX_USR_SBIN_DIR=${HOMEX_ROOT_DIR}/usr/sbin

export HOMEX_USR_LOCAL_BIN_DIR=${HOMEX_ROOT_DIR}/usr/local/bin

export HOMEX_IOT_DIR=${HOMEX_ROOT_DIR}/${PJ_IOT_FOLDER}

export HOMEX_CERT_DIR=${HOMEX_IOT_DIR}/cert
export HOMEX_CONF_DIR=${HOMEX_IOT_DIR}/conf
export HOMEX_HTTPD_DIR=${HOMEX_IOT_DIR}/httpd
export HOMEX_HTTPS_DIR=${HOMEX_IOT_DIR}/https
export HOMEX_MODULES_DIR=${HOMEX_IOT_DIR}/modules
export HOMEX_WWW_DIR=${HOMEX_IOT_DIR}/www

#******************************************************************************
#** PREFIX / SDK / PKG **
#******************************************************************************
if [ -z "${PJ_PKG_CONFIG_ORG}" ]; then
export PJ_PKG_CONFIG="${SDK_LIB_DIR}/pkgconfig"
else
export PJ_PKG_CONFIG="${SDK_LIB_DIR}/pkgconfig:${PJ_PKG_CONFIG_ORG}"
fi
#mkdir -p ${SDK_PKG_DIR}

#******************************************************************************
#** PREFIX (special) **
#******************************************************************************
#** XLIBC **
export PJ_PREFIX_GLIBC_DIR=${PJ_PREFIX_DIR}/glibc
export PJ_PREFIX_UCLIBC_DIR=${PJ_PREFIX_DIR}/ulibc

#** openssl **

#** glib **

#** gdbm **

#** Netlink **

#** XML, SOAP **

# for soap

#** JSON, INI **

#** config **
# for libconfig
# for libuuid
# for mosquitto
# for LIBWEBSOCKETS

#** dbus **

#** libzwscene **

#** httpd **
# for udunits, apr-util
# for apr-util
# for pcre

#** tools **
if [ "${PJ_HAS_LUA}" = "yes" ]; then
export PJ_BUILD_LUA="LUAPATH=${SDK_LIB_DIR}"
else
export PJ_BUILD_LUA="BUILD_LUA=off"
fi

#** tools (uri) **

#** tools (network) **
# for live555, but curl can't use
#export DESTDIR=$SDK_ROOT_DIR

#** tools (usb) **

#** others **

#******************************************************************************
#** PREFIX / ZWave **
#******************************************************************************
export PJ_PREFIX_S2_DIR=${PJ_PREFIX_DIR}/${PJ_NAME}_s2

# for libzwscene

export PJ_ZWAVE_OPT=opt

#******************************************************************************
#** RPATH **
#******************************************************************************
# lib, include
if [ -z "${PJ_TARGET_DIR}" ]; then
export PJ_TARGET_RPATH=
else
export PJ_TARGET_RPATH=`realpath -m ${PJ_TARGET_DIR}${HOMEX_USR_PREFIX_DIR}/lib`
fi